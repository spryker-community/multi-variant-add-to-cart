{% extends template('widget') %}

{% define data = {
    products: _widget.products,
    availableVariantAttributes: _widget.availableVariantAttributes,
    addToCartAction: _widget.addToCartAction,
} %}

{%- block template -%}
    {% if data.products and data.availableVariantAttributes %}
        {{ parent() }}
    {% endif %}
{%- endblock -%}

{% block body %}
    {% include molecule('variant-form', 'MultiVariantAddToCartWidget') with {
        data: {
            products: data.products,
            availableVariantAttributes: data.availableVariantAttributes,
            addToCartAction: data.addToCartAction
        },
    } only %}
{% endblock %}
